## 추천 시스템

---

추천시스템이란 과거 행동 데이터나 다른 데이터를 바탕으로 사용자에게 필요한 정보 & 제품을 골라서 제시해주는 것



**전통적인 비즈니스에서의 추천 시스템**

- 고객들을 취향이 비슷한 집단(세그먼트)로 나눔
- 각 집단에 잘 맞는 제품이나 서비스를 골라주는 것을 추천시스템이라 했음
- 최근 기술의 발전으로 집단의 크기를 점점 작게하였고, 극단적으로 줄이면 각 집단이 한 사람이 됨 (당연히 이에 대한 반대급부로 집단의 수가 늘어남)
- 이렇게 각 사용자 별로 맞춤형 추천과 서비스를 제공하는 것을 개인화(personalization)이라 함



**추천 알고리즘 사용처**

- 각 사용자가 어떤 아이템을 좋아하는지 선호도 예측(필수)
- 해당 선호도 예측결과를 아이템 추천에 사용가능
- 혹은 각 사용자의 관심을 끌만한 광고를 노출시킴(타깃광고)



큰 틀에서 보면 알고리즘은 5가지로 나뉨 (원천 기술은 3가지)

1. 협업 필터링(Collaborative Filtering; CF)

   - 구매, 소비한 제품에 대한 각 소비자의 평가를 받아 평가 패턴이 비슷한 소비자를 한 집단(segment)로 보고 집단에 속한 소비자들의 취향을 활용하는 기술
   - 예를 들어 A라는 소비자와 평가 패턴이 비슷한 사람들을 골라서 이 사람들이 공통적으로 좋아하는 제품 중 A가 접하지 못한 제품을 제시
   - 이 기술은 사람들의 취향이 뚜렷이 구분되는 제품 (영화, 음악, 패션)을 추천할 때 더욱 정확
   - 평가 정보를 얻기 힘들어, 간접 정보를 사용하는 경우가 많음
   - 검색 기록 및 찜, 장바구니 기록 (관심의 표현) 수집
   - 클릭스트림 정보를 통해 취향이나 니즈를 알아 낼 수 있음
   - 대표적인 기업은 아마존의 제품 추천, 넷플릭스의 영화 추천 시스템임

   

2. 내용 기반 필터링(Content-Based filtering; CB)

   - 제품의 내용을 분석해서 추천하는 기술
   - 소비자가 소비하는 제품 중 텍스트 정보가 많은 제품(뉴스, 책 등)을 분석하여 추천 할 때 많이 사용하는 기술임
   - 텍스트 정보 분석에 대해서는 문헌학에서 오래전부터 연구가 이뤄져왔음
   - 형태소(명사, 동사 등) 를 추려내고, 이중에서 핵심 키워드가 어떤 것인지 분석하는 기술이 기본임
   - 이렇게 추려낸 키워드를 활용해서 소비자의 관심사항에 대한 분석이 가능
   - 예를 들어 관심이 있어 보이는 뉴스나 책의 핵심 키워드를 추리고 비슷한 키워드를 가진 뉴스 및 책을 제시하여 클릭율을 높인다고 보면 됨

   

3. 지식기반 필터링(Knowledge-Based Filtering; KB)

   - 내용 기반과 협업 필터링의 단점은 예측은 가능하지만 소비자가 왜 그 제품을 좋아하는 가에 대한 답변을 할 수 없다 (설명 불가능한 분석)
   - 특정 분야(domain) 전문가의 도움을 받아 그 분야에 대한 전체적인 지식구조를 만들어 활용하는 기법
   - 지식구조는 다양한 형태로 표현되는데 보통은 체계도(ontology)를 만드는 것이 가장 일반적인 방법
   - 어떤 분야의 키워드와 그 관계를 그림으로 표시한 것이 체계도임
   - 예를 들어 컴퓨터 제품 분야에서 상위 분류로 PC, 노트북, 태블릿 그 아래에 무엇, 그 아래에 무엇으로 전문가들이 제시
   - 이렇게 작성된 체계도를 바탕으로 소비자가 구매한, 혹은 관심 있는 제품과 관련이 있는 제품을 이 체계도에서 찾아서 제시할 수 있음

   - 장점은 전체적인 구조를 알 수 있음, 특히 지식이 중요한 분야(교육, 와인, 커피 등)에서 효과가 좋음
   - 그러나 모든 세세한 분야에 다 적용할 수 없고(전문가 능력의 한계), 각 분야에 대해 전문가 필요

   

4. DL 모델 기반

   - 딥러닝의 입력으로 다양한 사용자와 아이템의 특징값을 사용
   - 이를 통해 얻은 출력은 각 아이템에 대한 각 사용자의 예상 선호도로 사용
   - 이렇게 하면 각 사용자에 대해서 많은 아이템의 예상 선호도를 계산 할 수 있다.
   - 다양한 입력 변수를 사용가능하지만, 일반적으로 이미지 인식에서 탁월한 성능을 발휘함
   - 연속값 (예를 들면 1에서 5점)으로 표시되는 아이템에 대한 사용자의 선호도를 딥러닝을 사용하여 추천할 경우 정확도가 다른 알고리즘에 비해 크게 우월하지 않아 다른 알고리즘과 함께 사용됨

   

5. 하이브리드 모델

   - 실제로 구축할 때는 대부분 두 가지 이사의 기술을 혼합해서 사용하는 하이브리드 형태로 자주 사용 됨
   - 각 기술은 장단점이 뚜렷하기 때문에 이들을 적절히 잘 결합하는 것이 중요
   - 어떻게 결합할 것인가가 이 때의 과제임
   - 다양한 시도를 해보면서 최적의 방법을 찾는 것이 가장 바람직



### 적용 사례

---

넷플릭스

- CineMatch 
  - 각 고객의 취향에 따라 맞춤화, 개인화 됨
  - 영화에 대한 평가를 하면 그것을 바탕으로 협업 필터링 기술을 사용해서 추천함
  - 고객의 이탈을 최소화하기 위해 고객이 좋아하는 영화를 정확히 추천해주는 것이 중요
  - 고객 이탈율(churn rate)는 4% 이하

아마존

- 협업 필터링을 사용한 시스템 중 가장 오래된 것
  - 협업 필터링 기반의 하이브리드 기술
  - 사용자의 제품에 대한 평가 데이터를 다양한 방법으로 수집
    - 별점 부여(1~5)
    - 글로 평가 후기
    - 암묵적 정보(어떤 제품의 설명 웹 페이지, 방문했다면 얼마나 오래 머물렀는지, 쇼핑 카트, 제품을 구매 했는지)
    - 사용자의 선호를 나타내는 모든 정보를 가중치를 부여하여 사용 (위에 적음)
    - 가중치 산정 방법은 오랜 기간동안 연구와 시행착오를 겪어야 하기에 내부 기밀임
    - 아마존은 더 복잡하고 어려운 시스템임(제품 종류의 수, 사용자 수,  선호 정보의 종류, 제품의 카테고리 수)
    - 카테고리 별 구매목적과 기준이 다르기 때문에, 카테고리 제품에 대한 정보를 다른 카테고리의 제품 추천에 적용하는 것은 주의해야하고, 제품 카테고리 간 관계도 고려해야 함
    - 추천한 제품을 구매하는 비율(conversion rate)은 다른 사이트에 비해서 4배 정도 높음

